{
    "contents" : "#' Plot multiple ggplot2s in one page, with a shared legend.\n#'\n#' Stolen shamelessly from https://github.com/hadley/ggplot2/wiki/Share-a-legend-between-two-ggplot2-graphs, with a modification to allow for custom layout.\n#'\n#' @param ... plot objects for plotting.\n#' @param layout_mat layout matrix for plots.\n#' @examples\n#'\n#' rm(list=ls())\n#'\n#'library(ggplot2)\n#'library(hunterr)\n#'\n#'# This example uses the ChickWeight dataset, which comes with ggplot2\n#'# First plot\n#'p1 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet, group=Chick)) +\n#'  geom_line() +\n#'  ggtitle(\"Growth curve for individual chicks\")\n#'\n#'# Second plot\n#'p2 <- ggplot(ChickWeight, aes(x=Time, y=weight, colour=Diet)) +\n#'  geom_point(alpha=.3) +\n#'  geom_smooth(alpha=.2, size=1) +\n#'  ggtitle(\"Fitted growth curve per diet\")\n#'\n#'# Third plot\n#'p3 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, colour=Diet)) +\n#'  geom_density() +\n#'  ggtitle(\"Final weight, by diet\")\n#'\n#'# Fourth plot\n#'p4 <- ggplot(subset(ChickWeight, Time==21), aes(x=weight, fill=Diet)) +\n#'  geom_histogram(colour=\"black\", binwidth=50) +\n#'  facet_grid(Diet ~ .) +\n#'  ggtitle(\"Final weight, by diet\") +\n#'  theme(legend.position=\"none\")        # No legend (redundant in this graph)\n#'\n#'grid_arrange_shared_legend(p1, p2, p3, p4, layout_mat = matrix(c(1,2,3,4,4,4), nrow=2, byrow=TRUE))\n#'\n#' @export\n\nsharedlegendplot <- function(..., layout_mat = NULL) {\n\n  plots <- list(...)\n  g <- ggplot2::ggplotGrob(plots[[1]] + ggplot2::theme(legend.position=\"bottom\"))$grobs\n  legend <- g[[which(sapply(g, function(x) x$name) == \"guide-box\")]]\n  lheight <- sum(legend$height)\n  list_of_plots <- lapply(plots, function(x)\n    x + ggplot2::theme(legend.position=\"none\"))\n  if(!is.null(layout_mat)) list_of_plots$layout_matrix <- layout_mat\n  gridExtra::grid.arrange(\n    do.call(gridExtra::arrangeGrob, list_of_plots),\n    legend,\n    ncol = 1,\n    heights = grid::unit.c(grid::unit(1, \"npc\") - lheight, lheight))\n}\n\n",
    "created" : 1446759056138.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1365330934",
    "id" : "C366BF7C",
    "lastKnownWriteTime" : 1446824715,
    "path" : "C:/Users/Hunter/Dropbox/My_R_Packages/hunterr/R/SharedLegendPlot.R",
    "project_path" : "R/SharedLegendPlot.R",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "type" : "r_source"
}